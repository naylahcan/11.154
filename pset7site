<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>PSET7 D3 Visualization Webpage</title>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.1.1/d3.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,500" rel="stylesheet">
		<style type="text/css">
            
            .text-styling {
                font-family: 'Open Sans';
                font-weight: 300;
                font-size: 14px;
            }
            
            .label-styling {
                font-family: 'Open Sans';
                font-weight: 300;
                font-size: 14px;
            }
            
             .title-styling {
                font-family: 'Open Sans';
                font-weight: 500;
                font-size: 18px;
            }
            
            .grid-container {
                display: grid;
                width: 5;
                align-content: center;
            }
            
            h4 {
                font-style: italic;
            }
            
            h1{
                border-left-style: solid;
                border-left-width: 10px;
                border-left-color: limegreen;
                background-color: papayawhip;
                
            }
        

		</style>
		</head>
		<body>
        <main>
            <section class = "container">
                <div class = "row">
                    <h1>Visualizing Agricultural Land</h1>
                </div>
                
                <div class = "row">
                    <div class = "col", grid-width = "5">
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. In iaculis suscipit diam et feugiat. Proin id hendrerit massa. Duis tincidunt justo et diam aliquet, vel lobortis augue egestas. Morbi nec tincidunt nisl. In volutpat justo nec ornare sagittis. Integer elementum tempus vulputate. 
                    <br><br>
                    Suspendisse ac mi auctor tellus molestie pellentesque vitae ac lacus. Nunc pulvinar sapien id felis consequat, sed eleifend neque vulputate. Etiam molestie, sapien eu efficitur aliquam, magna neque feugiat sem, ac sodales orci velit in velit. Cras ac mi urna. Cras eleifend iaculis massa ut fermentum. Proin vitae lacinia magna. Donec diam ante, ullamcorper id laoreet non, vehicula eget ipsum. Nulla facilisi. Morbi nibh felis, euismod id tincidunt et, cursus eget magna. Pellentesque eget iaculis turpis. Interdum et malesuada fames ac ante ipsum primis in faucibus. </p>
                    <h4> Big Data, Visualization, and Society</h4>
                        <p>Author: <b>Naylah Canty</b> </p>
                        <p>Assignment: <b>Problem Set 8</b> </p>
                        <p>Date Published: <b>November 19, 2021</b> </p>
                    
                    </div>
                     <div class = "col", grid-width = "7">
                    <div id="viz"></div>
                         <p class = "ref">Data Source: World Bank</p>
                    </div>
                </div>
            </section>
        </main>
		<script type="text/javascript">
            const agriculturedata = [
                ["Brazil", 33.9],
                ["Canada", 6.9],
                ["Costa Rica", 34.5],
                ["Denmark", 62],
                ["Fiji", 23.3],
                ["France", 52.4],
                ["Greenland", .6],
                ["Italy", 43.2],
                ["Mali",33.8],
                ["Netherlands",53.3]
            ];

			const width = 1200;
			const height = 1000;
            const marginLeft = 150;
            const marginTop = 80;
            const barHeight = 30;
            const widthMultiplier = 3;
            const gap = 5;

            // define svg
			const svg = d3.select("#viz")
                .append("svg")
                .attr("viewBox", [0,0, 0.5*width, 0.5*height])
			
            // add country text labels
             svg.append("g")
                .attr("class", "labels")
                .selectAll("text")
                .data(agriculturedata)
                .enter()
                .append("text")
                .attr("class", "text-styling")
                .attr("y", (d, i) => i * (barHeight + gap) +
                marginTop + gap)
                .attr("x", marginLeft) 
                .attr("dy", "1em")
                .attr("text-anchor", "end")
                // .attr("font-size", "14px")
                // .attr("fill", "black")
                // .attr("font-family", "Open Sans")
                .text(d => d[0]);
            
            // add Value text labels
             svg.append("g")
                .attr("class", "labels")
                .selectAll("text")
                .data(agriculturedata)
                .enter()
                .append("text")
                .attr("class", "label-styling")
                .attr("y", (d, i) => i * (barHeight + gap) +
                marginTop + gap)
                .attr("x", d => marginLeft + 2*gap + widthMultiplier * d[1] )
                .attr("dy", "1em")
                //.attr("text-anchor", "right")
                // .attr("font-size", "14px")
                // .attr("fill", "black")
                // .attr("font-family", "Open Sans")
                .text(d => d[1] + "%");
            
            // add rectangle bars
            svg.append("g")
                .attr("class", "rect-bars")
            .selectAll("rect")
                .data(agriculturedata)
                .enter()
                .append("rect")
                    .attr("y", (d, i) => i * (barHeight + gap) + marginTop)
                    .attr("x", marginLeft + gap)
                    .attr("width", d => d[1] * widthMultiplier)
                    .attr("height", 30)
                    .attr("fill", "green")
                    .attr("opacity", 0.7);
            
            //add Title
            svg.append("text")
                .attr("class", "title-styling")
                .attr("x", marginLeft)             
                .attr("y", marginTop - barHeight)  
                .text("Proportion of Agricultural Land in 2016");

                
		</script>
	</body>
</html>
